<!DOCTYPE html>

<script src="./assets/js/d3.v7.min.js"></script>
<script src="./assets/js/topojson.min.js"></script>
<script src="./assets/js/geoalbersuster.js"></script>

<svg id="map" width = "1280" height = "800"></svg>

<script>
  
  // load data and run
  Promise.all([
      d3.json("./data/json/county.json")
  ]).then(function([us]){

            // where the map is going
      const svg = d3.select("svg"),
            width = +svg.attr("width"),
            height = +svg.attr("height");
      
      // map and projection
      const projection = geoAlbersUsaTerritories.geoAlbersUsaTerritories()
            .scale(1280)
            .translate([width / 2, height / 2]);
      const path = d3.geoPath().projection(projection);
      
      // draw counties
      svg.append("g")
          .selectAll("path")
          .data(topojson.feature(us, us.objects.counties).features)
          .join("path")
          .attr("fill", "none")
          .attr("stroke", "lightgrey")
          .attr("d", path);
      
      // draw state outlines
      svg.append("path")
          .datum(topojson.mesh(us, us.objects.states))
          .attr("fill", "none")
          .attr("stroke", "darkgrey")
          .attr("stroke-linejoin", "round")
          .attr("d", path);
  })
  
</script>
